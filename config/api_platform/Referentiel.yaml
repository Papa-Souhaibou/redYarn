App\Entity\Referentiel:
  attributes:
    normalization_context:
      groups: ['referentiel_read']
    route_prefix: /admin
    security: is_granted('ROLE_CM')
    security_message: Access Denied
  properties:
    groupeCompetences:
      subresource:
        resourceClass: App\Entity\GroupeCompetence
        collection: false
  collectionOperations:
    get_referentiels:
      method: GET
      path: /referentiels
      security: is_granted('ROLE_APPRENANT')
    add_referentiel:
      method: POST
      path: /referentiels
  itemOperations:
    get_referentiel:
      method: GET
      path: /referentiels/{id}
      requirements:
        id: \d+
      security: is_granted('ROLE_APPRENANT')
    get_grpecompetence_in_referentiel:
      method: GET
      path: /referentiels/{idRef}/grpecompetences/{idgrpe}
      security: is_granted('ROLE_APPRENANT')
    set_referentiel:
      method: PUT
      path: /referentiels/{id}
      requirements:
        id: \d+
    delete_referentiel:
      method: DELETE
      path: /referentiels/{id}
      requirements:
        id: \d+
      security: is_granted('ROLE_ADMIN')
